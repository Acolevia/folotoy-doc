---
title: AT Command
sidebar_label: AT Command
---

## Specific Steps

1. Connect the interface expansion board to a PC using the provided Type C data cable.
2. Open the [web tool](https://tool.folotoy.com/index) and navigate to the logs.

    <img src="https://user-images.githubusercontent.com/41461127/281992533-f5204e50-e79e-472c-8edf-398e087f3f91.png" />

3. Select the serial port for the kit and click "Connect."

    <img src="https://user-images.githubusercontent.com/69997928/284516480-089d0383-cf77-45e4-85a5-89527f118714.png" />

4. Enter the AT command in the pop-up log box.

    <img src="https://user-images.githubusercontent.com/69997928/284516660-5dd96e62-f94e-42cb-9d57-119930597230.png" />


## AT Commands

## *** changes take effect after reboot. Only English input and lowercase letters are supported. ***

### View configuration file:
   ```
   at+config=?
   ```

### View all AT commands:
   ```
   at+command=?
   ```

### View key configuration:
   ```
   at+keys=?
   ```

### Configure talk key:

  - Example: Define talk key as GPIO 27

    ```
    at+keys=talk,<GPIO> // at+keys=talk,27
    ```

### Configure WIFI reset key:

- Example: Define WIFI reset key as GPIO 29 and GPIO 30

    ```
    at+keys=wifi_rst,<GPIO>;<GPIO> // at+keys=wifi_rst,29;30
    ```

### Configure enter dialogue mode key:

- Example: Define enter dialogue mode key as GPIO 29 and GPIO 30

    ```
    at+keys=dialogue,<GPIO>;<GPIO> // at+keys=dialogue,29;30
    ```

### Reboot configuration (changes take effect after reboot):

   ```
   at+reboot
   ```

### Configure role:

- If not configured, the default role ID is 1.

- Example: Define GPIO 22 as the key for role 1

    ```
    at+keys=role_idx,<index>,<GPIO> // at+keys=role_idx,1,22
    ```

- Example: Remove key definition for role 1

    ```
    at+keys=role_idx,<index>,<GPIO> // at+keys=role_idx,1,0
    ```

### Configure switch role key:

- Example: Configure GPIO 27 to switch to the previous role

    ```
    at+keys=role_prev,<GPIO>  // at+keys=role_prev,27
    ```

- Example: Configure GPIO 28 to switch to the next role

    ```
    at+keys=role_next,<GPIO>  // at+keys=role_next,28
    ```

### Modify MQTT configuration:

- Example: Modify the broker to 192.168.52.1

    ```
    at+config=mqtt,broker,<broker> // at+config=mqtt,broker,192.168.52.1
    ```

- Example: Modify the port to 1883

    ```
    at+config=mqtt,port,<port> // at+config=mqtt,port,1883
    ```

- Modify both the broker and port simultaneously

    ```
    at+config=mqtt,broker,<broker>;port,<port> // at+config=mqtt,broker,192.168.52.1;port,1883
    ```

### Modify WIFI configuration:

- Example: Modify the SSID to "test-wifi"

    ```
    at+config=wifi,ssid,<ssid> // at+config=wifi,ssid,test-wifi
    ```

- Example: Modify the password to "123456"
    ```
    at+config=wifi,password,<password> // at+config=wifi,password,123456
    ```

- Modify both the SSID and password simultaneously

    ```
    at+config=wifi,ssid,<ssid>;password,<password> // at+config=wifi,ssid,test-wifi;password,123456
    ```

### Modify voice threshold in continuous dialogue mode:

- Example: Modify voice threshold to 100

    ```
    at+config=common,voice,<threshold> // at+config=common,voice,100
    ```
### Modify the timeout for waiting the server response

- Example: Modify timeout to 50 seconds

    ```json
    at+config=common,timeout,<seconds> // at+config=common,timeout,50
    ```

### Continuous dialogue:
    at+command=dialogue,start // enter continuous dialogue mode
    at+command=dialogue,stop // exit continuous dialogue mode

### Reset WIFI and enter pairing mode:
    at+command=wifi,reset

### Switch recording mode

    at+command=record,click // click the recording button to enter the recording, and it will automatically end after the recording is completed
    at+command=record,press // press the recording button to enter recording, release the button to end recording
    at+command=record,continuous // click the recording button to enter continuous conversation mode


### Open tip audio configuration

    at+command=open_tip_type,open // open tip audio enable
    at+command=open_tip_type,close // open tip audio disable


### Voltage alarm configuration

    at+config=common,voltage_alarm,<value> // setting voltage alarm, default 3.7

### Voice Config

    at+voice=test // enter voicetest mode, which can print volume logs during recording
    at+voice=autoconfig // enter the volume threshold automatic configuration mode, which can automatically configure the volume threshold after 5 seconds
    at+voice=normal // exit voicetest or volume threshold automatic configuration mode

### Configure Earlight Brightness

    // Sets the maximum brightness of the earlight, with values ranging from 0 to 255
    at+config=common,led_brightness,<value>

- Example: Set earlight brightness to 100

    ```json
    at+config=common,led_brightness,100
    ```
